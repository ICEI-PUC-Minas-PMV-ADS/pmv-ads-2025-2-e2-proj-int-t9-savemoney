# Plano de Testes de Software — R12 Gestão de Orçamento

## 1. Introdução

Este plano de testes de software foca em garantir que a funcionalidade de Gestão de Orçamento opere conforme a especificação, validando a criação, atualização, remoção e consulta de orçamentos mensais por categoria.

## 2. Casos de Teste

| ID         | Funcionalidade                   | Pré-condições                                                                              | Ações                                                                                                          | Resultados Esperados                                                                                                                      |
| ---------- | -------------------------------- | ------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| CT-R12-001 | Criar um novo orçamento          | Usuário autenticado. Categoria "Lazer" existe.                                             | 1. Enviar via API os dados para um novo orçamento: categoriaId="Lazer", valor_limite=500.00, mes=10, ano=2025. | A API deve retornar 201 Created. Um novo registro de orçamento deve ser criado no banco de dados com os valores corretos.                 |
| CT-R12-002 | Listar orçamentos do mês         | Usuário autenticado possui 2 orçamentos criados para o mês 10/2025.                        | 1. Solicitar via API a lista de orçamentos para o período de 10/2025.                                          | A API deve retornar 200 OK e uma lista contendo exatamente os 2 orçamentos criados para aquele mês.                                       |
| CT-R12-003 | Atualizar um orçamento existente | Usuário autenticado. Existe um orçamento para "Lazer" com valor_limite=500.00.             | 1. Enviar uma requisição PUT para atualizar o orçamento, alterando o valor_limite para 600.00.                 | A API deve retornar 200 OK. O registro do orçamento no banco de dados deve ser atualizado com o novo valor.                               |
| CT-R12-004 | Excluir um orçamento             | Usuário autenticado. Existe um orçamento para a categoria "Lazer".                         | 1. Enviar uma requisição DELETE para remover o orçamento da categoria "Lazer".                                 | A API deve retornar 204 No Content ou 200 OK. O registro do orçamento deve ser removido do banco de dados.                                |
| CT-R12-005 | Prevenir orçamento duplicado     | Já existe um orçamento para "Lazer" no mês 10/2025.                                        | 1. Tentar criar um segundo orçamento para "Lazer" no mesmo mês e ano (10/2025).                                | A API deve retornar um erro 409 Conflict, informando que o orçamento já existe. Nenhum novo registro deve ser criado.                     |
| CT-R12-006 | Validação de dados de entrada    | Usuário autenticado.                                                                       | 1. Tentar criar um orçamento com valor_limite negativo (-100).                                                 | A API deve retornar um erro 400 Bad Request com uma mensagem de validação clara. Nenhum orçamento deve ser salvo.                         |
| CT-R12-007 | Verificar status de um orçamento | Usuário tem um orçamento de R$ 500 para "Lazer" e já gastou R$ 350 nessa categoria no mês. | 1. Solicitar via API o status do orçamento de "Lazer".                                                         | A API deve retornar 200 OK e um objeto contendo o limite, o valor gasto e o saldo restante (ex: { limite: 500, gasto: 350, saldo: 150 }). |
