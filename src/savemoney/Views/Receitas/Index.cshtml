@model IEnumerable<savemoney.Models.Receita>

@{
    ViewData["Title"] = "Receitas";
}

<h2>Receitas</h2>

<button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#receitaModal">
    + Nova Receita
</button>

<div id="modalContainer"></div>

<hr />

<div class="row">
    @foreach (var receita in Model)
    {
        <div class="col-md-4">
            @await Html.PartialAsync("_ReceitaCard", receita)
        </div>
    }
</div>

<!-- Modal de criação/edição -->
<div id="modalCreateContainer">
    @await Html.PartialAsync("_CreateOrEditModal", new savemoney.Models.Receita())
</div>

<div id="modalEditContainer"></div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />

    <script>
        function openReceitaModal(id) {
            $.get('/Receita/Edit/' + id, function (html) {
                $('#modalContainer').html(html);   // carrega o modal do EDIT
                $('#receitaModal').modal('show');  // abre
            });
        }
    </script>
}
